<!DOCTYPE html>
<html>
<head>
    <title>TV Show page</title>
</head>
<body>
    {% load static %}
    {% load Series_extras %}

    <!-- Load the CSS style sheet -->
    <link rel="stylesheet" type="text/css" href="{% static 'Series/style.css' %}" />

    <!-- Load the javascript for tabs -->
    <script type="text/javascript" src="{% static 'Series/tab.js' %}"></script>

    <!-- TV show details -->
    <h1>{{ tvshow.display_title }}</h1>

    <p> </p>
    here are the tv show details
    <p> </p>
    <img src="{{ tvshow.poster_url }}" alt="{{ tvshow.display_title }}">
    <p> </p>

    <!-- Return to library -->
    <form action="{% url 'Series:library' %}" method="POST">
        {% csrf_token %}
        <input type="submit", value="Back to library">
    </form>

{% if tvshows.seasons.all %}
    <!-- TV Seasons tabs -->
    <div class="tab">
        <!-- loop on seasons -->
        {% for season in tvshows.seasons.all %}
            <button class="tablinks" 
                onclick="{{ 'openTab(event, '|addstr:season.number|addstr:')' }}" 
                id="{{ 'season '|addstr:season.number }}|addstr: 'tab'">
                {{ season.number }}
            </button>
        {% endfor %}
    </div>
    
    <!-- TV Seasons tabs content -->
    {% for season in tvshows.seasons.all %}
        <div id="{{ 'season '|addstr:season.number }}|addstr: 'tab'" class="tabcontent">
            <h3>Season {{ season.number }}</h3>
            <p>
                {% for episode in season.episodes.all %}
                    epsiode {{ episode.number }} - {{ episode.name }}
                    <br>
                {% endfor %}
            </p>
        </div>
    {% endfor %}
    
    <script type="text/javascript">
        $("paris button").trigger("click");
    </script>
{% endif %}

</body>
</html>
